<div id="<%= dom_id tutorial %>" class="card tutorial-small">

  <div class="row tutorial-title">

  <strong class="col">
    <%= tutorial.title %>
  </strong>
  </div>

  <p class="tutorial-description">
    <%= tutorial.description.truncate(120) %>
  </p>

  <small class="col">
    created: <%= tutorial.created_at.to_date.to_formatted_s :long_ordinal %>
  </small>

  <% if tutorial.status != "public" %>
      <p style="color: orange"><%= tutorial.status %></p>
  <% end %>

  <div class="col">
    <div class="row">
        <div class="col">
        <%= link_to "show", tutorial, class:"btn btn-secondary"%>
        </div>

        <div class="col">
        <%= link_to "edit", edit_tutorial_path(tutorial), class:'col btn btn-secondary' %>
        </div>

        <div class="col">
          <%= form_with(model: tutorial) do |form| %>
          <% if tutorial.topic %>
          <%= form.hidden_field :topic_id, value: tutorial.topic.id %>
          <% end %>
          <%= form.hidden_field :status, value: "archived" %>
          <%= form.submit "archive", class: "btn btn-dark" %>
          <% end %>
        </div>

        <div class="col">
          <%= form_with(model: tutorial) do |form| %>
          <% if tutorial.topic %>
          <%= form.hidden_field :topic_id, value: tutorial.topic.id %>
          <% end %>
          <%= form.hidden_field :status, value: "hidden" %>
          <%= form.submit "hide", class: "btn btn-secondary" %>
          <% end %>
        </div>

        <% @topics.each do |topic| %>
        <div class="col">
          <% if topic != tutorial.topic %>
          <%= form_with(model: tutorial) do |form| %>
          <%= form.hidden_field :topic_id, value: topic.id %>
          <%= form.submit "add to #{ topic.title }", class: "btn btn-dark" %>
          <% end %>
          <% end %>
        </div>
        <% end %>

        <% if tutorial.topic != nil %>

                <div class="col">
        <%= form_with(model: tutorial) do |form| %>
          <div class="form-group">
          <%= form.hidden_field :topic_id, value: nil %>
          <%= form.submit "remove from #{tutorial.topic.title}", class: "btn btn-dark" %>
          </div>
        <% end %>

        </div>
        <% end %>
      </div>
  </div>
</div>
